{% extends "base.html" %}

{% block title %}{{ city }}天氣資訊 - Weather App{% endblock %}

{# 採用 Style 2：柔和淡彩（預設白底 + 淡色 header） #}
{% set header_class = 'bg-blue-100' %}
{% set header_text_class = 'text-blue-900' %}
{% set body_class = 'bg-white' %}
{% set body_text_class = 'text-slate-800' %}
{% set border_class = 'border border-blue-100' %}

{% if '01' in data.icon %}
{# 晴天：暖色 header，淺淡 body #}
{% set header_class = 'bg-orange-100' %}
{% set header_text_class = 'text-orange-900' %}
{% set body_class = 'bg-orange-50' %}
{% set body_text_class = 'text-slate-800' %}
{% set border_class = 'border border-orange-100' %}
{% elif '02' in data.icon or '03' in data.icon or '04' in data.icon %}
{# 多雲/陰天：柔和灰藍 header #}
{% set header_class = 'bg-slate-100' %}
{% set header_text_class = 'text-slate-700' %}
{% set body_class = 'bg-slate-50' %}
{% set body_text_class = 'text-slate-800' %}
{% set border_class = 'border border-slate-200' %}
{% elif '09' in data.icon or '10' in data.icon %}
{# 雨天：藍色系淡彩 #}
{% set header_class = 'bg-blue-100' %}
{% set header_text_class = 'text-blue-900' %}
{% set body_class = 'bg-blue-50' %}
{% set body_text_class = 'text-slate-800' %}
{% set border_class = 'border border-blue-100' %}
{% elif '11' in data.icon %}
{# 雷雨：靛青淡彩 #}
{% set header_class = 'bg-indigo-100' %}
{% set header_text_class = 'text-indigo-900' %}
{% set body_class = 'bg-indigo-50' %}
{% set body_text_class = 'text-slate-800' %}
{% set border_class = 'border border-indigo-100' %}
{% elif '13' in data.icon %}
{# 下雪：天藍淡彩 #}
{% set header_class = 'bg-sky-100' %}
{% set header_text_class = 'text-sky-900' %}
{% set body_class = 'bg-sky-50' %}
{% set body_text_class = 'text-slate-800' %}
{% set border_class = 'border border-sky-100' %}
{% elif '50' in data.icon %}
{# 霧：灰色淡彩 #}
{% set header_class = 'bg-gray-100' %}
{% set header_text_class = 'text-gray-800' %}
{% set body_class = 'bg-gray-50' %}
{% set body_text_class = 'text-slate-800' %}
{% set border_class = 'border border-gray-200' %}
{% endif %}

{% block content %}
<div class="flex justify-center">
    <div class="w-full max-w-md">
        <div class="shadow-md rounded-lg overflow-hidden transition-colors duration-300 {{ border_class }} bg-white">
            <div class="{{ header_class }} {{ header_text_class }} p-4 text-center">
                <h2 class="text-3xl font-bold mb-0">{{ city }}</h2>
            </div>
            <div class="p-6 {{ body_class }} {{ body_text_class }}">
                <div class="flex flex-wrap items-center text-center">
                    <div class="w-full md:w-1/2 mb-6 md:mb-0">
                        <!-- 使用 Filter 顯示圖示 -->
                        <div class="text-8xl mb-2">
                            <i class="{{ data.icon | weather_icon }}"></i>
                        </div>
                        <h2 class="text-6xl font-bold">{{ data.temp }}°C</h2>
                        <p class="text-xl capitalize">{{ data.description }}</p>
                    </div>

                    <div class="w-full md:w-1/2">
                        <ul class="divide-y divide-gray-200 text-left">
                            <li class="py-3 flex justify-between items-center">
                                <span><i class="ri-drop-fill text-blue-500 mr-2"></i>濕度</span>
                                <span class="font-bold">{{ data.humidity }}%</span>
                            </li>
                            <li class="py-3 flex justify-between items-center">
                                <span><i class="ri-windy-fill text-gray-500 mr-2"></i>風速</span>
                                <span class="font-bold">{{ data.wind_speed }} m/s</span>
                            </li>
                            <li class="py-3 flex justify-between items-center">
                                <span><i class="ri-temp-hot-fill text-red-500 mr-2"></i>體感溫度</span>
                                <span class="font-bold">{{ data.feels_like }}°C</span>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="bg-gray-50 p-3 text-right text-xs text-gray-500 border-t border-gray-200">
                更新時間: {{ data.dt }}
            </div>
        </div>

        <div class="mt-4 text-center">
            <a href="{{ url_for('main.index') }}"
                class="inline-block border border-gray-300 text-gray-700 hover:bg-gray-100 font-semibold py-2 px-4 rounded">返回首頁</a>
        </div>
    </div>
</div>
{% endblock %}