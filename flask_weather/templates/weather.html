{% extends "base.html" %}

{% block title %}{{ city }}天氣資訊 - Weather App{% endblock %}

{# 將配色拆成 header 與 body，便於控制不同區塊色調與文字顏色 #}
{% set header_class = 'bg-blue-500' %}
{% set body_class = 'bg-slate-700' %}
{% set body_text_class = 'text-white' %}

{% if '01' in data.icon %}
{# 晴天：暖色 header，淺藍 body，使用深色文字以提高可讀性 #}
{% set header_class = 'bg-yellow-400' %}
{% set body_class = 'bg-blue-200' %}
{% set body_text_class = 'text-slate-900' %}
{% elif '02' in data.icon or '03' in data.icon or '04' in data.icon %}
{# 多雲/陰天：柔和灰藍 header，深灰藍 body #}
{% set header_class = 'bg-slate-500' %}
{% set body_class = 'bg-slate-600' %}
{% set body_text_class = 'text-white' %}
{% elif '09' in data.icon or '10' in data.icon %}
{# 雨天：深灰 header，深藍灰 body #}
{% set header_class = 'bg-gray-700' %}
{% set body_class = 'bg-gray-700' %}
{% set body_text_class = 'text-white' %}
{% elif '11' in data.icon %}
{# 雷雨：深色系 header + body #}
{% set header_class = 'bg-indigo-900' %}
{% set body_class = 'bg-indigo-800' %}
{% set body_text_class = 'text-white' %}
{% endif %}

{% block content %}
<div class="flex justify-center">
    <div class="w-full max-w-md">
        <div class="shadow-lg rounded-lg overflow-hidden transition-colors duration-300">
            <div class="{{ header_class }} text-white p-4 text-center">
                <h2 class="text-3xl font-bold mb-0">{{ city }}</h2>
            </div>
            <div class="p-6 {{ body_class }} {{ body_text_class }}">
                <div class="flex flex-wrap items-center text-center">
                    <div class="w-full md:w-1/2 mb-6 md:mb-0">
                        <!-- 使用 Filter 顯示圖示 -->
                        <div class="text-8xl mb-2">
                            <i class="{{ data.icon | weather_icon }}"></i>
                        </div>
                        <h2 class="text-6xl font-bold">{{ data.temp }}°C</h2>
                        <p class="text-xl capitalize">{{ data.description }}</p>
                    </div>

                    <div class="w-full md:w-1/2">
                        <ul class="divide-y divide-gray-200 text-left">
                            <li class="py-3 flex justify-between items-center">
                                <span><i class="ri-drop-fill text-blue-500 mr-2"></i>濕度</span>
                                <span class="font-bold">{{ data.humidity }}%</span>
                            </li>
                            <li class="py-3 flex justify-between items-center">
                                <span><i class="ri-windy-fill text-gray-500 mr-2"></i>風速</span>
                                <span class="font-bold">{{ data.wind_speed }} m/s</span>
                            </li>
                            <li class="py-3 flex justify-between items-center">
                                <span><i class="ri-temp-hot-fill text-red-500 mr-2"></i>體感溫度</span>
                                <span class="font-bold">{{ data.feels_like }}°C</span>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="bg-gray-50 p-3 text-right text-xs text-gray-500 border-t border-gray-200">
                更新時間: {{ data.dt }}
            </div>
        </div>

        <div class="mt-4 text-center">
            <a href="{{ url_for('main.index') }}"
                class="inline-block border border-gray-300 text-gray-700 hover:bg-gray-100 font-semibold py-2 px-4 rounded">返回首頁</a>
        </div>
    </div>
</div>
{% endblock %}